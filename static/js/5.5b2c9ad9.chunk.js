(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{170:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(165),r=n(2),c=function(e){var t=e.title,n=e.onClick,c=e.style;return Object(r.jsx)(a.a,{onClick:n,color:"primary",variant:"contained",type:"submit",style:c,children:t})}},178:function(e,t,n){e.exports={phonebookInputFields:"ContactForm_phonebookInputFields__1DCHk",phonebookInput:"ContactForm_phonebookInput__2p2Aq",filterInput:"ContactForm_filterInput__dyhuB"}},179:function(e,t,n){"use strict";var a=n(62),r=n(63);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),o=(0,a(n(64)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");t.default=o},180:function(e,t,n){"use strict";var a=n(62),r=n(63);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),o=(0,a(n(64)).default)(c.createElement("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call");t.default=o},181:function(e,t,n){e.exports={filterInput:"Filter_filterInput__u16Kg"}},182:function(e,t,n){"use strict";var a=n(62),r=n(63);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),o=(0,a(n(64)).default)(c.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},202:function(e,t,n){"use strict";n.r(t);var a=n(60),r=n(61),c=n(66),o=n(65),i=n(4),s=n(0),l=n(17),d=n(178),u=n.n(d),m=n(26),p=n.n(m),b=n(38),f=n(29),j=n.n(f),h=n(10),v={fetchContacts:function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(h.n)()),e.prev=1,e.next=4,j.a.get("/contacts");case 4:n=e.sent,t(Object(h.o)(n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(h.m)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},addContact:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.b)()),t.prev=1,t.next=4,j.a.post("/contacts",e);case 4:a=t.sent,n(Object(h.c)(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Object(h.a)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},deleteContacts:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.h)()),t.prev=1,t.next=4,j.a.delete("/contacts/".concat(e));case 4:t.sent,n(Object(h.i)(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Object(h.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},changeContact:function(e){var t=e.name,n=e.number,a=e.id;return function(){var e=Object(b.a)(p.a.mark((function e(r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Object(h.k)()),e.prev=1,e.next=4,j.a.patch("/contacts/".concat(a),{name:t,number:n});case 4:c=e.sent,r(Object(h.l)(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(Object(h.j)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}},g=n(44),x=function(e){return e.contacts.items},O=function(e){return e.contacts.filter},C={contactsArray:x,getFilter:O,getVisibleContacts:Object(g.a)([x,O],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),getModalBoolean:function(e){return e.contacts.modal}},y=(n(74),n(170)),w=n(177),k=n(200),S=n(1),M=n(5),E=n(8),N=n.n(E),F=n(7),I=n(162),_=n(11),A=n(169),z=s.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,c=e.component,o=void 0===c?"div":c,i=e.disablePointerEvents,l=void 0!==i&&i,d=e.disableTypography,u=void 0!==d&&d,m=e.position,p=e.variant,b=Object(M.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),f=Object(A.b)()||{},j=p;return p&&f.variant,f&&!j&&(j=f.variant),s.createElement(A.a.Provider,{value:null},s.createElement(o,Object(S.a)({className:Object(F.a)(a.root,r,l&&a.disablePointerEvents,f.hiddenLabel&&a.hiddenLabel,"filled"===j&&a.filled,{start:a.positionStart,end:a.positionEnd}[m],"dense"===f.margin&&a.marginDense),ref:t},b),"string"!==typeof n||u?n:s.createElement(I.a,{color:"textSecondary"},n)))})),W=Object(_.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(z),B=n(179),D=n.n(B),L=n(180),P=n.n(L),T=n(2),R=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",id:""},e.handleChange=function(t){var n=t.currentTarget,a=n.name,r=n.value;e.setState(Object(i.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault();var n,a=e.props.contacts,r=e.state,c=r.name,o=r.number,i=r.id;if(e.reset(),!i)return a.find((function(e){return e.name.toLowerCase()===c.toLowerCase()}))?alert("".concat(c," is already in contacts")):a.some((function(e){return e.number===o}))?alert("Number ".concat(o," is already in contacts")):(n={name:c,number:o},e.props.onSubmit(n));e.props.onEdit(e.state)},e.reset=function(){e.setState({name:"",number:""})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.editedContact;if(e){var t=e.id,n=e.name,a=e.number;this.setState({id:t,name:n,number:a})}}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=this.props.editedContact;return Object(T.jsx)(w.a,{maxWidth:"sm",children:Object(T.jsx)("form",{onSubmit:this.handleSubmit,children:Object(T.jsxs)("div",{className:u.a.phonebookInputFields,children:[Object(T.jsx)("label",{htmlFor:this.nameInputId,className:"phonebook-label",children:Object(T.jsx)(k.a,{className:u.a.phonebookInput,startAdornment:Object(T.jsx)(W,{position:"start",children:Object(T.jsx)(D.a,{})}),type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"The name can only consist of letters, apostrophes, dashes and spaces. For example: Jacob Mercer...",placeholder:"name",onChange:this.handleChange,required:!0})}),Object(T.jsx)("label",{className:"phonebook-label",children:Object(T.jsx)(k.a,{startAdornment:Object(T.jsx)(W,{position:"start",children:Object(T.jsx)(P.a,{})}),className:u.a.phonebookInput,type:"tel",name:"number",value:n,pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",placeholder:"number",title:"The phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",onChange:this.handleChange,required:!0})}),a?Object(T.jsx)(y.a,{title:"Edit"}):Object(T.jsx)(y.a,{title:"Add contact"})]})})})}}]),n}(s.Component),G={onSubmit:function(e){return v.addContact(e)},onEdit:function(e){return v.changeContact(e)},closeModal:h.f},$=Object(l.b)((function(e){return{contacts:C.contactsArray(e)}}),G)(R),q=n(181),H=n.n(q),J=n(182),Z=n.n(J),V=function(e){var t=e.filter,n=e.changeFilter;return Object(T.jsx)(w.a,{maxWidth:"sm",children:Object(T.jsx)("div",{children:Object(T.jsx)("label",{children:Object(T.jsx)(k.a,{className:H.a.filterInput,startAdornment:Object(T.jsx)(W,{position:"start",children:Object(T.jsx)(Z.a,{})}),type:"text",value:t,placeholder:"find contacts by name...",onChange:n})})})})},K=Object(l.b)((function(e){return{filter:C.getFilter(e)}}),(function(e){return{changeFilter:function(t){return e(Object(h.e)(t.target.value))}}}))(V);V.protoType={filter:N.a.string,changeFilter:N.a.func};var Q=n(157),U=[0,1,2,3,4,5,6,7,8,9,10],X=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var ee=s.forwardRef((function(e,t){var n=e.alignContent,a=void 0===n?"stretch":n,r=e.alignItems,c=void 0===r?"stretch":r,o=e.classes,i=e.className,l=e.component,d=void 0===l?"div":l,u=e.container,m=void 0!==u&&u,p=e.direction,b=void 0===p?"row":p,f=e.item,j=void 0!==f&&f,h=e.justify,v=void 0===h?"flex-start":h,g=e.lg,x=void 0!==g&&g,O=e.md,C=void 0!==O&&O,y=e.sm,w=void 0!==y&&y,k=e.spacing,E=void 0===k?0:k,N=e.wrap,I=void 0===N?"wrap":N,_=e.xl,A=void 0!==_&&_,z=e.xs,W=void 0!==z&&z,B=e.zeroMinWidth,D=void 0!==B&&B,L=Object(M.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),P=Object(F.a)(o.root,i,m&&[o.container,0!==E&&o["spacing-xs-".concat(String(E))]],j&&o.item,D&&o.zeroMinWidth,"row"!==b&&o["direction-xs-".concat(String(b))],"wrap"!==I&&o["wrap-xs-".concat(String(I))],"stretch"!==c&&o["align-items-xs-".concat(String(c))],"stretch"!==a&&o["align-content-xs-".concat(String(a))],"flex-start"!==v&&o["justify-xs-".concat(String(v))],!1!==W&&o["grid-xs-".concat(String(W))],!1!==w&&o["grid-sm-".concat(String(w))],!1!==C&&o["grid-md-".concat(String(C))],!1!==x&&o["grid-lg-".concat(String(x))],!1!==A&&o["grid-xl-".concat(String(A))]);return s.createElement(d,Object(S.a)({className:P,ref:t},L))})),te=Object(_.a)((function(e){return Object(S.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return U.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(Y(r,2)),width:"calc(100% + ".concat(Y(r),")"),"& > $item":{padding:Y(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};X.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(S.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(ee),ne=n(138),ae=s.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.raised,c=void 0!==r&&r,o=Object(M.a)(e,["classes","className","raised"]);return s.createElement(ne.a,Object(S.a)({className:Object(F.a)(n.root,a),elevation:c?8:1,ref:t},o))})),re=Object(_.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(ae),ce=["video","audio","picture","iframe","img"],oe=s.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,c=e.component,o=void 0===c?"div":c,i=e.image,l=e.src,d=e.style,u=Object(M.a)(e,["children","classes","className","component","image","src","style"]),m=-1!==ce.indexOf(o),p=!m&&i?Object(S.a)({backgroundImage:'url("'.concat(i,'")')},d):d;return s.createElement(o,Object(S.a)({className:Object(F.a)(a.root,r,m&&a.media,-1!=="picture img".indexOf(o)&&a.img),ref:t,style:p,src:m?i||l:void 0},u),n)})),ie=Object(_.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(oe),se=s.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.component,c=void 0===r?"div":r,o=Object(M.a)(e,["classes","className","component"]);return s.createElement(c,Object(S.a)({className:Object(F.a)(n.root,a),ref:t},o))})),le=Object(_.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(se),de=s.forwardRef((function(e,t){var n=e.disableSpacing,a=void 0!==n&&n,r=e.classes,c=e.className,o=Object(M.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(S.a)({className:Object(F.a)(r.root,c,!a&&r.spacing),ref:t},o))})),ue=Object(_.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(de),me=n(73),pe=function(e){var t=e.contacts,n=e.onDelete,a=e.avatar,r=e.openModal,c=e.editContact,o=Object(me.a)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Q.a,{}),Object(T.jsx)(w.a,{maxWidth:"md",className:o.cardCrid,children:Object(T.jsx)(te,{container:!0,spacing:4,children:t.map((function(e){return Object(T.jsx)(te,{item:!0,xs:12,sm:6,children:Object(T.jsxs)(re,{className:o.card,children:[Object(T.jsx)(ie,{className:o.cardMedia,image:a,title:"imgTitle"}),Object(T.jsxs)(le,{className:o.cardContent,children:[Object(T.jsxs)(I.a,{variant:"h5",children:[" ",e.name+":"," "]}),Object(T.jsx)(I.a,{variant:"h5",children:e.number}),Object(T.jsx)(I.a,{variant:"h4",children:e.message})]}),Object(T.jsxs)(ue,{children:[Object(T.jsx)(y.a,{title:"Delete",onClick:function(){return n(e.id)}}),Object(T.jsx)(y.a,{title:"Edit",onClick:function(){c(e),r()}})]})]})},e.id)}))})})]})},be=n.p+"static/media/face.c3d96184.png",fe={onDelete:function(e){return v.deleteContacts(e)},onEditContact:function(e){return v.changeContact(e)},openModal:h.p,closeModal:h.f,onEditClick:h.d},je=Object(l.b)((function(e){return{contacts:C.getVisibleContacts(e),avatar:be,modalBoolean:C.getModalBoolean(e)}}),fe)(pe),he=n(203);function ve(e){var t=e.modal,n=e.onCloseModal,a=e.children,r=Object(me.a)();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(he.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:r.modal,open:t,onClose:function(){return n()},closeAfterTransition:!0,BackdropProps:{timeout:500},children:Object(T.jsx)("div",{className:r.paper,children:a})})})}var ge=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={contactForEdit:null},e.getContactForEdit=function(t){e.setState({contactForEdit:t})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.modalBoolean,a=e.closeModal,r=this.state.contactForEdit;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($,{}),t.length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(K,{}),Object(T.jsx)(je,{editContact:this.getContactForEdit})]}),Object(T.jsx)(ve,{modal:n,onCloseModal:a,children:Object(T.jsx)($,{editedContact:r})})]})}}]),n}(s.Component),xe={fetchContacts:v.fetchContacts,closeModal:h.f};t.default=Object(l.b)((function(e){return{items:C.contactsArray(e),modalBoolean:C.getModalBoolean(e)}}),xe)(ge)}}]);
//# sourceMappingURL=5.5b2c9ad9.chunk.js.map